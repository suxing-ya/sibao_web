# Temu产品信息提取器使用说明

## 功能概述

Temu产品信息提取器是一个集成在思宝工具系统中的功能模块，可以从Temu网站提取商品信息并以表格形式展示。

## 主要功能

### ✨ 核心功能
- 🔍 从Temu产品页面提取商品信息
- 📊 以表格形式展示产品数据
- 📈 提供产品统计信息
- 📁 支持导出Excel和CSV格式
- 🖼️ 可选择是否包含商品图片
- ⭐ 可选择是否包含评价信息

### 📋 提取的信息字段
- **商品名称**：产品标题和描述
- **价格信息**：当前价格和原价
- **评价数据**：评分和评价数量
- **销量信息**：销售数量
- **商品图片**：产品图片URL
- **商品链接**：原始产品页面链接

## 使用方法

### 1. 访问功能页面
1. 登录思宝工具系统
2. 在用户功能界面中找到"Temu产品提取器"
3. 点击进入产品提取器页面

### 2. 权限要求
- 需要管理员分配 `product_extractor_html` 权限
- 如果没有权限，请联系系统管理员

### 3. 使用步骤
1. **输入链接**：在输入框中粘贴Temu产品页面的URL
2. **选择选项**：
   - ☑️ 包含商品图片
   - ☑️ 包含评价信息
3. **开始提取**：点击"提取产品信息"按钮
4. **查看结果**：等待提取完成，查看产品信息表格
5. **导出数据**：可选择导出为Excel或CSV格式

### 4. 支持的URL格式
```
https://www.temu.com/ca-zh-Hans/[产品页面]
https://www.temu.com/[其他区域]/[产品页面]
```

## 系统架构

### 后端组件
- `app.py` - Flask主应用，包含API路由
- `temu_extractor.py` - 真实的网页爬虫模块
- `temu_extractor_demo.py` - 演示模式（模拟数据）

### 前端组件
- `templates/product_extractor.html` - 用户界面
- Bootstrap 5 + JavaScript - 前端交互

### API接口
- `POST /api/temu/extract_products` - 提取产品信息
- `POST /api/temu/export_excel` - 导出Excel文件

## 技术特性

### 🚀 智能提取
- 多选择器策略，提高数据提取成功率
- 自动识别产品页面结构
- 支持单个产品和商店列表页面

### 🛡️ 稳定性保障
- 网络请求重试机制
- 优雅的错误处理
- 演示模式备份（网络问题时）

### 📊 数据处理
- 价格信息智能清理
- 评分数据格式化
- 图片URL处理

## 当前状态

### ✅ 已完成
- 完整的用户界面
- API接口开发
- 演示模式实现
- 权限管理集成
- 数据导出功能

### ⚠️ 注意事项
- 目前使用演示模式（模拟数据）
- 真实的网页抓取功能需要解决网络访问问题
- 建议在网络环境良好时使用

### 🔧 待优化
- 网络请求稳定性
- 更多的页面结构适配
- 批量处理功能
- 数据缓存机制

## 故障排除

### 常见问题

1. **无法访问功能页面**
   - 检查是否已登录
   - 确认是否有 `product_extractor_html` 权限

2. **提取失败**
   - 检查URL格式是否正确
   - 确认网络连接正常
   - 当前版本使用演示数据展示功能

3. **导出功能异常**
   - 确认已安装pandas和openpyxl依赖
   - 检查浏览器下载设置

### 技术支持
如遇到问题，请联系系统管理员或查看应用日志。

## 更新历史

### v1.0.0 (2025-01-27)
- ✨ 初始版本发布
- 📱 完整的用户界面
- 🔧 演示模式实现
- 📊 数据导出功能

---

*© 2025 思宝工具系统 - Temu产品信息提取器* 